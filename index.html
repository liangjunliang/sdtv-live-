<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å±±ä¸œç”µè§†å°ç›´æ’­</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(90deg, #e53935 0%, #d81b60 100%);
            color: white;
            padding: 25px 40px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            padding: 20px;
        }
        
        .player-section {
            flex: 3;
            min-width: 300px;
            padding: 20px;
        }
        
        .channels-section {
            flex: 1;
            min-width: 250px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-left: 20px;
        }
        
        #video-player {
            width: 100%;
            height: 450px;
            background: #000;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        #video-player video {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .channel-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .channel-btn {
            padding: 14px 20px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: bold;
            color: #444;
        }
        
        .channel-btn:hover {
            background: #e3f2fd;
            border-color: #2196f3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(33,150,243,0.1);
        }
        
        .channel-btn.active {
            background: #2196f3;
            color: white;
            border-color: #2196f3;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: #666;
        }
        
        .loading.active {
            display: block;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #2196f3;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .controls {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s;
            flex: 1;
        }
        
        .btn-play {
            background: #4caf50;
            color: white;
        }
        
        .btn-pause {
            background: #ff9800;
            color: white;
        }
        
        .btn-stop {
            background: #f44336;
            color: white;
        }
        
        .btn-fullscreen {
            background: #2196f3;
            color: white;
        }
        
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .current-channel {
            background: #e8f5e9;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
            border-left: 5px solid #4caf50;
        }
        
        .current-channel h3 {
            color: #2e7d32;
            margin-bottom: 5px;
        }
        
        .instructions {
            background: #fff3e0;
            padding: 20px;
            margin-top: 30px;
            border-radius: 10px;
            border-left: 5px solid #ff9800;
        }
        
        .instructions h3 {
            color: #e65100;
            margin-bottom: 10px;
        }
        
        .instructions ul {
            padding-left: 20px;
            line-height: 1.6;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: #666;
            border-top: 1px solid #eee;
            margin-top: 30px;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .channels-section {
                margin-left: 0;
                margin-top: 20px;
            }
            
            #video-player {
                height: 300px;
            }
        }
        
        @media (max-width: 480px) {
            #video-player {
                height: 250px;
            }
            
            .btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }
        
        .quality-selector {
            margin-top: 15px;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 8px;
        }
        
        .quality-selector select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“º å±±ä¸œç”µè§†å°ç›´æ’­</h1>
            <p>é«˜æ¸…æµç•…çš„å±±ä¸œç”µè§†å°åœ¨çº¿ç›´æ’­å¹³å°</p>
        </header>
        
        <div class="main-content">
            <div class="player-section">
                <!-- è§†é¢‘æ’­æ”¾å™¨ -->
                <div id="video-player">
                    <video id="videoElement" controls preload="auto">
                        <source id="videoSource" src="" type="application/vnd.apple.mpegurl">
                        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘æ’­æ”¾
                    </video>
                </div>
                
                <!-- åŠ è½½æç¤º -->
                <div class="loading" id="loading">
                    <div class="loading-spinner"></div>
                    <p>æ­£åœ¨åŠ è½½ç›´æ’­æµï¼Œè¯·ç¨å€™...</p>
                    <p id="loading-details"></p>
                </div>
                
                <!-- å½“å‰æ’­æ”¾ä¿¡æ¯ -->
                <div class="current-channel" id="currentChannelInfo">
                    <h3 id="channelName">å‡†å¤‡æ’­æ”¾</h3>
                    <p id="channelStatus">è¯·ä»å³ä¾§é€‰æ‹©é¢‘é“</p>
                </div>
                
                <!-- æ§åˆ¶æŒ‰é’® -->
                <div class="controls">
                    <button class="btn btn-play" onclick="playVideo()">â–¶ æ’­æ”¾</button>
                    <button class="btn btn-pause" onclick="pauseVideo()">â¸ æš‚åœ</button>
                    <button class="btn btn-stop" onclick="stopVideo()">â¹ åœæ­¢</button>
                    <button class="btn btn-fullscreen" onclick="toggleFullscreen()">â›¶ å…¨å±</button>
                </div>
                
                <!-- ç”»è´¨é€‰æ‹© -->
                <div class="quality-selector">
                    <label for="qualitySelect">é€‰æ‹©ç”»è´¨ï¼š</label>
                    <select id="qualitySelect" onchange="changeQuality(this.value)">
                        <option value="auto">è‡ªåŠ¨é€‰æ‹©</option>
                        <option value="high">é«˜æ¸…</option>
                        <option value="medium">æ ‡æ¸…</option>
                        <option value="low">æµç•…</option>
                    </select>
                </div>
                
                <!-- ä½¿ç”¨è¯´æ˜ -->
                <div class="instructions">
                    <h3>ä½¿ç”¨è¯´æ˜</h3>
                    <ul>
                        <li>1. ä»å³ä¾§é€‰æ‹©è¦è§‚çœ‹çš„é¢‘é“</li>
                        <li>2. ç‚¹å‡»"æ’­æ”¾"æŒ‰é’®å¼€å§‹è§‚çœ‹</li>
                        <li>3. å¦‚æœæ— æ³•æ’­æ”¾ï¼Œè¯·å°è¯•åˆ·æ–°é¡µé¢</li>
                        <li>4. æ”¯æŒå…¨å±è§‚çœ‹ï¼Œç‚¹å‡»å…¨å±æŒ‰é’®æˆ–åŒå‡»è§†é¢‘åŒºåŸŸ</li>
                        <li>5. å¦‚é‡å¡é¡¿ï¼Œå¯å°è¯•åˆ‡æ¢ç”»è´¨</li>
                    </ul>
                </div>
            </div>
            
            <!-- é¢‘é“åˆ—è¡¨ -->
            <div class="channels-section">
                <h2 style="margin-bottom: 20px; color: #d81b60;">ğŸ“» é¢‘é“åˆ—è¡¨</h2>
                
                <div class="channel-list">
                    <!-- ä½¿ç”¨JavaScriptåŠ¨æ€ç”Ÿæˆé¢‘é“æŒ‰é’® -->
                </div>
                
                <!-- æŠ€æœ¯ä¿¡æ¯ -->
                <div style="margin-top: 30px; padding: 15px; background: #e3f2fd; border-radius: 8px;">
                    <h4 style="color: #1565c0; margin-bottom: 10px;">æŠ€æœ¯ä¿¡æ¯</h4>
                    <p><strong>æ’­æ”¾æ ¼å¼ï¼š</strong> HLS (M3U8)</p>
                    <p><strong>å…¼å®¹æ€§ï¼š</strong> Chrome/Firefox/Safari/Edge</p>
                    <p><strong>æ¨èæµè§ˆå™¨ï¼š</strong> Chrome æœ€æ–°ç‰ˆ</p>
                    <p><strong>ç½‘ç»œè¦æ±‚ï¼š</strong> 2Mbps ä»¥ä¸Š</p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Â© 2024 å±±ä¸œç”µè§†å°ç›´æ’­ | ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨</p>
            <p style="font-size: 0.9rem; margin-top: 5px; color: #888;">
                æ•°æ®æ¥æºï¼šå±±ä¸œå¹¿æ’­ç”µè§†å° | æŠ€æœ¯æ”¯æŒï¼šHLS.js
            </p>
        </footer>
    </div>

    <!-- å¼•å…¥HLS.jsåº“ï¼Œå¢å¼ºå…¼å®¹æ€§ -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.10/dist/hls.min.js"></script>
    
    <script>
        // é¢‘é“æ•°æ® - ä¿®æ”¹è¿™é‡Œé…ç½®ä½ çš„PHPåœ°å€
        const channels = [
            {
                id: 'sdws',
                name: 'å±±ä¸œå«è§†',
                description: 'å±±ä¸œå«è§†é«˜æ¸…ç›´æ’­',
                color: '#e53935'
            },
            {
                id: 'sdql',
                name: 'å±±ä¸œé½é²',
                description: 'é½é²é¢‘é“',
                color: '#d81b60'
            },
            {
                id: 'sdxw',
                name: 'å±±ä¸œæ–°é—»',
                description: 'æ–°é—»èµ„è®¯é¢‘é“',
                color: '#8e24aa'
            },
            {
                id: 'sdty',
                name: 'å±±ä¸œä½“è‚²',
                description: 'ä½“è‚²ä¼‘é—²é¢‘é“',
                color: '#3949ab'
            },
            {
                id: 'sdsh',
                name: 'å±±ä¸œç”Ÿæ´»',
                description: 'ç”Ÿæ´»é¢‘é“',
                color: '#039be5'
            },
            {
                id: 'sdzy',
                name: 'å±±ä¸œç»¼è‰º',
                description: 'ç»¼è‰ºå¨±ä¹é¢‘é“',
                color: '#00897b'
            },
            {
                id: 'sdnk',
                name: 'å±±ä¸œå†œç§‘',
                description: 'å†œä¸šç§‘æŠ€é¢‘é“',
                color: '#7cb342'
            },
            {
                id: 'sdwl',
                name: 'å±±ä¸œæ–‡æ—…',
                description: 'æ–‡åŒ–æ—…æ¸¸é¢‘é“',
                color: '#ffb300'
            },
            {
                id: 'sdse',
                name: 'å±±ä¸œå°‘å„¿',
                description: 'å°‘å„¿é¢‘é“',
                color: '#fb8c00'
            }
        ];

        // é…ç½®ä½ çš„PHPæœåŠ¡å™¨åœ°å€
        // é‡è¦ï¼šå°†ä¸‹é¢åœ°å€æ›¿æ¢ä¸ºä½ çš„å®é™…PHPåœ°å€
        const PHP_SERVER = 'https://ä½ çš„PHPåœ°å€/sdtv.php';  // æ›¿æ¢è¿™é‡Œï¼
        // ç¤ºä¾‹ï¼šå¦‚æœPHPåœ¨Vercelï¼Œåœ°å€ç±»ä¼¼ï¼šhttps://your-project.vercel.app/sdtv.php
        // ç¤ºä¾‹ï¼šå¦‚æœPHPåœ¨InfinityFreeï¼Œåœ°å€ç±»ä¼¼ï¼šhttps://yourname.rf.gd/sdtv.php

        // å…¨å±€å˜é‡
        let currentChannel = 'sdws';
        let hlsPlayer = null;
        let isPlaying = false;
        let videoElement = document.getElementById('videoElement');
        let videoSource = document.getElementById('videoSource');

        // åˆå§‹åŒ–é¡µé¢
        function initPage() {
            renderChannelButtons();
            
            // å°è¯•ä»URLå‚æ•°è·å–é¢‘é“
            const urlParams = new URLSearchParams(window.location.search);
            const channelFromUrl = urlParams.get('ch');
            if (channelFromUrl) {
                const channel = channels.find(c => c.id === channelFromUrl);
                if (channel) {
                    selectChannel(channel.id);
                }
            } else {
                // é»˜è®¤é€‰æ‹©ç¬¬ä¸€ä¸ªé¢‘é“
                selectChannel(channels[0].id);
            }
            
            // è®¾ç½®è§†é¢‘äº‹ä»¶ç›‘å¬
            setupVideoEvents();
            
            // æ£€æŸ¥HLSæ”¯æŒ
            checkHLSSupport();
        }

        // æ¸²æŸ“é¢‘é“æŒ‰é’®
        function renderChannelButtons() {
            const channelList = document.querySelector('.channel-list');
            channelList.innerHTML = '';
            
            channels.forEach(channel => {
                const button = document.createElement('button');
                button.className = 'channel-btn';
                button.innerHTML = `
                    <div style="font-size: 1.2rem; margin-bottom: 5px;">ğŸ“º</div>
                    <div><strong>${channel.name}</strong></div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">${channel.description}</div>
                `;
                button.onclick = () => selectChannel(channel.id);
                button.style.borderLeft = `5px solid ${channel.color}`;
                channelList.appendChild(button);
            });
        }

        // é€‰æ‹©é¢‘é“
        function selectChannel(channelId) {
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.channel-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // æ‰¾åˆ°è¢«ç‚¹å‡»çš„æŒ‰é’®
            const buttons = document.querySelectorAll('.channel-btn');
            const channelIndex = channels.findIndex(c => c.id === channelId);
            if (channelIndex >= 0 && buttons[channelIndex]) {
                buttons[channelIndex].classList.add('active');
            }
            
            // æ›´æ–°å½“å‰é¢‘é“
            currentChannel = channelId;
            const channel = channels.find(c => c.id === channelId);
            
            // æ›´æ–°æ˜¾ç¤ºä¿¡æ¯
            document.getElementById('channelName').textContent = channel.name;
            document.getElementById('channelStatus').textContent = `å‡†å¤‡æ’­æ”¾ ${channel.description}`;
            
            // æ›´æ–°URLï¼ˆä¸åˆ·æ–°é¡µé¢ï¼‰
            const newUrl = new URL(window.location);
            newUrl.searchParams.set('ch', channelId);
            window.history.pushState({}, '', newUrl);
            
            // å¦‚æœå·²ç»åœ¨æ’­æ”¾ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°æ–°é¢‘é“
            if (isPlaying) {
                stopVideo();
                setTimeout(() => playVideo(), 500);
            }
        }

        // æ’­æ”¾è§†é¢‘
        function playVideo() {
            if (!PHP_SERVER || PHP_SERVER.includes('ä½ çš„PHPåœ°å€')) {
                alert('è¯·å…ˆé…ç½®PHPæœåŠ¡å™¨åœ°å€ï¼\n\nä¿®æ”¹æ–¹æ³•ï¼š\n1. æ‰“å¼€index.htmlæ–‡ä»¶\n2. æ‰¾åˆ°ç¬¬261è¡Œçš„PHP_SERVERå˜é‡\n3. æ›¿æ¢ä¸ºä½ çš„å®é™…PHPåœ°å€');
                return;
            }
            
            const loading = document.getElementById('loading');
            const loadingDetails = document.getElementById('loading-details');
            
            // æ˜¾ç¤ºåŠ è½½æç¤º
            loading.classList.add('active');
            loadingDetails.textContent = `æ­£åœ¨è¿æ¥ ${channels.find(c => c.id === currentChannel).name}...`;
            
            // åœæ­¢ä¹‹å‰çš„æ’­æ”¾
            stopVideo();
            
            // æ„å»ºM3U8åœ°å€
            const m3u8Url = `${PHP_SERVER}?id=${currentChannel}&type=m3u8`;
            
            // æ›´æ–°çŠ¶æ€
            document.getElementById('channelStatus').textContent = 'æ­£åœ¨åŠ è½½ç›´æ’­æµ...';
            
            // æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒHLS
            if (Hls.isSupported()) {
                // ä½¿ç”¨HLS.jsæ’­æ”¾
                hlsPlayer = new Hls({
                    enableWorker: true,
                    lowLatencyMode: true,
                    backBufferLength: 90,
                    maxBufferSize: 30 * 1000 * 1000,
                    maxBufferLength: 30,
                    liveSyncDurationCount: 3,
                    liveMaxLatencyDurationCount: 10,
                });
                
                hlsPlayer.loadSource(m3u8Url);
                hlsPlayer.attachMedia(videoElement);
                
                hlsPlayer.on(Hls.Events.MANIFEST_PARSED, () => {
                    loading.classList.remove('active');
                    videoElement.play();
                    isPlaying = true;
                    document.getElementById('channelStatus').textContent = 'æ’­æ”¾ä¸­...';
                    console.log('HLSæ’­æ”¾å™¨å¯åŠ¨æˆåŠŸ');
                });
                
                hlsPlayer.on(Hls.Events.ERROR, (event, data) => {
                    console.error('HLSé”™è¯¯:', data);
                    if (data.fatal) {
                        switch(data.type) {
                            case Hls.ErrorTypes.NETWORK_ERROR:
                                alert('ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥');
                                break;
                            case Hls.ErrorTypes.MEDIA_ERROR:
                                alert('åª’ä½“é”™è¯¯ï¼Œæ­£åœ¨å°è¯•æ¢å¤...');
                                hlsPlayer.recoverMediaError();
                                break;
                            default:
                                alert('æ’­æ”¾é”™è¯¯ï¼Œè¯·å°è¯•åˆ·æ–°é¡µé¢');
                                hlsPlayer.destroy();
                                break;
                        }
                    }
                });
                
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                // Safariç­‰åŸç”Ÿæ”¯æŒHLSçš„æµè§ˆå™¨
                videoSource.src = m3u8Url;
                videoElement.load();
                
                videoElement.addEventListener('loadeddata', () => {
                    loading.classList.remove('active');
                    videoElement.play();
                    isPlaying = true;
                    document.getElementById('channelStatus').textContent = 'æ’­æ”¾ä¸­...';
                });
                
                videoElement.addEventListener('error', () => {
                    loading.classList.remove('active');
                    alert('æ’­æ”¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥é“¾æ¥æˆ–ç½‘ç»œè¿æ¥');
                });
                
            } else {
                // ä¸æ”¯æŒHLS
                loading.classList.remove('active');
                alert('æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒHLSç›´æ’­æµæ’­æ”¾\nè¯·ä½¿ç”¨Chromeã€Firefoxã€Safariæˆ–Edgeæµè§ˆå™¨');
            }
            
            // è®¾ç½®è¶…æ—¶æ£€æŸ¥
            setTimeout(() => {
                if (loading.classList.contains('active')) {
                    loading.classList.remove('active');
                    alert('è¿æ¥è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–ç¨åé‡è¯•');
                }
            }, 15000);
        }

        // æš‚åœè§†é¢‘
        function pauseVideo() {
            if (videoElement && !videoElement.paused) {
                videoElement.pause();
                document.getElementById('channelStatus').textContent = 'å·²æš‚åœ';
            }
        }

        // åœæ­¢è§†é¢‘
        function stopVideo() {
            if (hlsPlayer) {
                hlsPlayer.destroy();
                hlsPlayer = null;
            }
            
            if (videoElement) {
                videoElement.pause();
                videoElement.src = '';
                videoElement.load();
            }
            
            isPlaying = false;
            document.getElementById('channelStatus').textContent = 'å·²åœæ­¢';
        }

        // åˆ‡æ¢å…¨å±
        function toggleFullscreen() {
            const player = document.getElementById('video-player');
            
            if (!document.fullscreenElement) {
                if (player.requestFullscreen) {
                    player.requestFullscreen();
                } else if (player.webkitRequestFullscreen) {
                    player.webkitRequestFullscreen();
                } else if (player.msRequestFullscreen) {
                    player.msRequestFullscreen();
                }
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
            }
        }

        // åˆ‡æ¢ç”»è´¨
        function changeQuality(quality) {
            if (hlsPlayer) {
                // è¿™é‡Œå¯ä»¥æ‰©å±•å®ç°ç”»è´¨åˆ‡æ¢é€»è¾‘
                console.log('åˆ‡æ¢ç”»è´¨:', quality);
                alert('ç”»è´¨åˆ‡æ¢åŠŸèƒ½éœ€è¦æ ¹æ®å®é™…M3U8æµé…ç½®');
            }
        }

        // è®¾ç½®è§†é¢‘äº‹ä»¶
        function setupVideoEvents() {
            videoElement.addEventListener('play', () => {
                isPlaying = true;
            });
            
            videoElement.addEventListener('pause', () => {
                isPlaying = false;
            });
            
            videoElement.addEventListener('error', (e) => {
                console.error('è§†é¢‘æ’­æ”¾é”™è¯¯:', e);
                document.getElementById('channelStatus').textContent = 'æ’­æ”¾é”™è¯¯';
            });
            
            // åŒå‡»å…¨å±
            videoElement.addEventListener('dblclick', toggleFullscreen);
        }

        // æ£€æŸ¥HLSæ”¯æŒ
        function checkHLSSupport() {
            const hlsInfo = document.createElement('div');
            hlsInfo.style.cssText = 'position:fixed;bottom:10px;right:10px;background:#333;color:#fff;padding:5px;border-radius:5px;font-size:12px;z-index:1000;';
            
            if (Hls.isSupported()) {
                hlsInfo.textContent = 'HLS.js å·²å¯ç”¨';
                hlsInfo.style.background = '#4caf50';
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                hlsInfo.textContent = 'åŸç”ŸHLSæ”¯æŒ';
                hlsInfo.style.background = '#2196f3';
            } else {
                hlsInfo.textContent = 'HLSä¸æ”¯æŒ';
                hlsInfo.style.background = '#f44336';
            }
            
            // å¯é€‰ï¼šæ˜¾ç¤º3ç§’åæ¶ˆå¤±
            document.body.appendChild(hlsInfo);
            setTimeout(() => {
                hlsInfo.style.opacity = '0';
                setTimeout(() => hlsInfo.remove(), 500);
            }, 3000);
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initPage);

        // é”®ç›˜å¿«æ·é”®æ”¯æŒ
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case ' ':
                case 'Spacebar':
                    e.preventDefault();
                    if (videoElement.paused) {
                        videoElement.play();
                    } else {
                        videoElement.pause();
                    }
                    break;
                case 'f':
                case 'F':
                    toggleFullscreen();
                    break;
                case 'Escape':
                    // é€€å‡ºå…¨å±å·²åœ¨æµè§ˆå™¨é»˜è®¤å¤„ç†
                    break;
                case '1':
                case '2':
                case '3':
                case '4':
                case '5':
                case '6':
                case '7':
                case '8':
                case '9':
                    const index = parseInt(e.key) - 1;
                    if (index < channels.length) {
                        selectChannel(channels[index].id);
                        if (!isPlaying) {
                            playVideo();
                        }
                    }
                    break;
            }
        });
    </script>
</body>
</html>
